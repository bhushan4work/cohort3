const mongoose = require("mongoose");

const Schema = mongoose.Schema;
const ObjectId = mongoose.Types.ObjectId ;

const userSchema = new Schema({
    //we dont need to add id here in schema ,mongoose generates the id as an objectid for each new user
    email : {type : String ,unique: true },
    password : String ,
    firstName: String,
    lastName: String
})

const adminSchema = new Schema({
    userId : ObjectId, //this is the autogenerated id we get on signing up as a user
    email : {type : String ,unique: true },
    password : String ,
    firstName: String,
    lastName: String
})

const courseSchema = new Schema({
    title: String ,
    description : String ,
    creatorId : ObjectId,
    imageUrl: String ,
    price: Number
})


const purchaseSchema = new Schema({
    userId: ObjectId, //gives the id generated by mongoose, now we can browse courses with our userid
    courseId : ObjectId
})

const userModel = new mongoose.model("user" , userSchema) ;
const adminModel = new mongoose.model("admin" , adminSchema) ;
const courseModel = new mongoose.model("course" , courseSchema) ;
const purchaseModel = new mongoose.model("purchase" , purchaseSchema) ;

module.exports = {
    userModel, 
    adminModel,
    courseModel,
    purchaseModel
}